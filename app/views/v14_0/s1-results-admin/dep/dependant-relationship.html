{% extends "layout_bsa.html" %}

{% block page_title %}
  What relationship is the dependant to the main applicant?
{% endblock %}

{% block content %}

<main id="content" role="main">
  <a href="javascript:history.go(-1)" class="link-back">Back</a>
  <div class="grid-row">
      <div class="column-two-thirds">
            <header class="page-header">
                <h1 class="page-header--lede heading-large">What relationship is the dependant to the main applicant?</h1>
            </header>

            <form action="moving-country" id="dependant-relationship-form" method="get" class="form">
                <div class="form-group">
                    <fieldset>
                        <legend class="visually-hidden">How do you want to be contacted?</legend>
                        <div class="multiple-choice" data-target="contact-by-email">
                              <input id="example-contact-by-email" type="radio" name="radio-contact-group" value="Yes">
                              <label for="example-contact-by-email">Child</label>
                        </div>

                        <div class="multiple-choice" data-target="contact-by-phone">
                              <input id="example-contact-by-phone" type="radio" name="radio-contact-group" value="No">
                              <label for="example-contact-by-phone">Grandchild</label>
                        </div>

                        <div class="multiple-choice" data-target="contact-by-phone">
                              <input id="example-contact-by-phone" type="radio" name="radio-contact-group" value="No">
                              <label for="example-contact-by-phone">Legal partner</label>
                        </div>

                        <div class="multiple-choice" data-target="contact-by-text">
                              <input id="example-contact-by-text" type="radio" name="radio-contact-group" value="No">
                              <label for="example-contact-by-text">Other</label>
                        </div>
                        <div class="panel panel-border-narrow js-hidden" id="contact-by-text">
                              <label class="form-label" for="contact-text-message">Enter relationship</label>
                              <input class="form-control" name="contact-text-message" type="text" id="contact-text-message">
                        </div>
                    </fieldset>
                </div>

                <div class="form-group">
                  <input class="button" type="submit" value="Continue">
                </div>
                <p class="navigation">
                  <a class="cancel" href="#" data-toggle="dialog" data-target="dialog-4">Cancel</a>
                </p>

                <!-- modal starts here  -->
                <div class="dialog" id="dialog-4" aria-hidden="true">
                  <div class="dialog-holder" aria-labelledby="dialog-title-4" aria-describedby="dialog-content-4" role="alertdialog">
                    <div class="dialog-content" id="dialog-content-4" role="document" tabindex="0">
                      <!-- <form action="123" id="123" class="form"> -->
                          <header class="page-header">
                              <h1 class="page-header--lede heading-medium" style="margin-top: -1em;">You are about to cancel this request to create an S1 entitlement</h1>
                          </header>
                          <label class="form-label" for="lineone">Are you sure you want to cancel this request to create an entitlement?</label>
                          <div class="form-group">
                              <fieldset class="inline">
                                  <legend class="visually-hidden">
                                  </legend>
                                  <div class="multiple-choice">
                                      <input id="yes" type="radio" name="exemption" value="yes">
                                      <label for="yes">Yes</label>
                                  </div>
                                  <div class="multiple-choice">
                                      <input id="no" type="radio" name="exemption" value="no">
                                      <label for="no">No</label>
                                  </div>
                              </fieldset>
                          </div>
                        <div class="dialog-actions">
                            <a class="button buttonSubmit" href="search1" style="font-size: 1em;">Submit</a>
                            <br><br>
                            <!-- <a class="dialog-cancel" href="#" style="margin-left: -10px; font-size: 1em;">Cancel</a> -->
                        </div>
                        <button class="dialog-close" aria-label="close" type="button">
                            <span class="icon icon-close">x</span>
                        </button>
                        <!-- </form> -->
                      </div>
                    </div>
                  </div>
              </form>
      </div>
  </div>
</main>

<script src="/public/javascripts/jquery-1.11.3.js"></script>
<script>
  $("#submit-btn").on("click", function() {
    var modalAnswer = $("input[name='exemption']:checked").val() || false; // false if undefined

    if (modalAnswer != false && modalAnswer == 'yes') {
      $("#dependant-relationship-form").attr("action", "search");
    } else {
      $("#dependant-relationship-form").attr("action", "dependant-relationship");
    }
  });
</script>
{% endblock %}
