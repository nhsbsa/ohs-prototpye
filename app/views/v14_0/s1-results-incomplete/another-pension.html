{% extends "layout_bsa.html" %}

{% block page_title %}
Do you get paid a State Pension in another EEA country, or Switzerland?
{% endblock %}

{% block content %}

<main id="content" role="main">
  <a href="javascript:history.go(-1)" class="link-back">Back</a>

  <div class="grid-row">
      <div class="column-two-thirds">
            <header class="page-header">
              <h1 class="page-header--lede heading-large">Do you get paid a State Pension from another EEA country, or Switzerland?</h1>
            </header>

            <form action="another-pension-form" id="another-pension-form" method="get" class="form">
                  <div class="form-group">
                      <fieldset class="inline">
                          <legend class="visually-hidden">
                          </legend>
                          <div class="multiple-choice">
                              <input id="radiobtn-country-yes" type="radio" name="anotherCountry" value="yes"/>
                              <label for="yes">Yes</label>
                          </div>
                          <div class="multiple-choice">
                              <input id="radiobtn-country-no" type="radio" name="anotherCountry" value="no"/>
                              <label for="no">No</label>
                          </div>
                      </fieldset>
                  </div>
                  <div class="form-group pickCountry visually-hidden">
                        <label class="form-label" for="full-name-f1">Country</label>
                        <input class="form-control" id="full-name-f1" type="text">
                        <a href="another-pension2">add country</a>
                  </div>
                  <div class="form-group">
                        <input class="button" type="submit" value="Continue">
                  </div>
                  <p class="navigation">
                        <a class="cancel" href="#" data-toggle="dialog" data-target="dialog-4">Cancel</a>
                  </p>

                                <!-- modal starts here  -->
                                <div class="dialog" id="dialog-4" aria-hidden="true">
                                        <div class="dialog-holder" aria-labelledby="dialog-title-4" aria-describedby="dialog-content-4" role="alertdialog">
                                            <div class="dialog-content" id="dialog-content-4" role="document" tabindex="0">											
                                                <header class="page-header">
                                                    <h1 class="page-header--lede heading-medium" style="margin-top: -1em;">Are you sure you want to cancel?</h1>
                                                </header>
                                                <div class="dialog-actions" style="display: inline;">
                                                    <input id="submit-btn" class="button buttonSubmit" type="submit" value="Yes - go to home page" style="font-size: 19px;"/>
                                                    <a class="dialog-cancel" href="#" style="font-size: 1em;">No - continue application</a>
                                                </div>
                                                <button class="dialog-close" aria-label="close" type="button">
                                                    <span class="icon icon-close">x</span>
                                                </button>												
                                              </div>
                                          </div>
                                      </div>
          </form>
      </div>
    </div>
</main>

<script src="/public/javascripts/jquery-1.11.3.js"></script>
<script>
  $("#submit-btn").on("click", function() {
    var modalAnswer = $("input[name='exemption']:checked").val() || false; // false if undefined

    if (modalAnswer != false && modalAnswer == 'yes') {
      $("#another-pension-form").attr("action", "search");
    } else {
      $("#another-pension-form").attr("action", "another-pension");
    }
  });
</script>
{% endblock %}
